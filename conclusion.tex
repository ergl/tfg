\cleardoublepage
\chapter{Conclusions and Future Work}
\label{chapter:conclusion}

\section{Conclusions}

This work has presented fastPSI, a transactional protocol with hybrid consistency that combines the scalability of Parallel Snapshot Isolation (PSI) with the strong consistency guarantees of models like Snapshot Isolation (SI) or serialisability. The core of fastPSI is formed by the notions of entity groups and causally consistent snapshots, which allow forward freshness for transactions while allowing serialisable transactions inside individual entity groups. The performance of fastPSI is evaluated in comparison with both strong and weak consistency protocols, demonstrating that fastPSI is able to outperform a serialisable protocol while having similar consistency guarantees. On the other hand, the need to reconcile SI and PSI makes fastPSI susceptible to abort read-only transactions, a major drawback of the protocol in comparison with other proposals. While fastPSI doesn't achieve the performance and scalability of weak consistency protocols like Read Committed, the stronger guarantees provided fastPSI's hybrid consistency should offer an attractive alternative for applications where both strong consistency and scalability are needed.

\section{Future Work}

In the future, fastPSI should be compared against existing implementations of protocols of Parallel Snapshot Isolation~\citep{psi-intro} and Non-Monotonic Snapshot Isolation~\citep{ardekani_nmsi, moniz_blotter}, in order to explore the scalability properties and overhead of the contributions of this work in comparison with previous approaches. As most previous protocols provide either partial or full replication, a first step towards a fair comparison would be to explore ways of providing replication in fastPSI, with the work of Moniz et al.~\citep{moniz_blotter} on Blotter providing a possible solution.

As discussed in~\ref{sect:read_aborts}, one of the main limitations of fastPSI is the possibility of read-only transactions having to abort, due the impossibility of observing a causally consistent snapshot. This limitation is caused by the combination of the hybrid consistency guarantees of the protocol, combined with the coarse grained nature of entity groups. This limitation can be minimised, as shown in~\ref{subsect:abort_ratio}, by increasing the number of entity groups in the system at the cost of lower performance. Future work could investigate ways to further minimise the number of aborts due to inconsistent snapshots without having to change the number of entity groups. One such approach could be similar to the one proposed by Bailis et al.~\citep{bailis_ramp}, where transactions are able to detect inconsistent reads at run-time, and perform a second round of communication with servers in order to repair the snapshot.

Finally, in the current implementation of fastPSI, the choice of both the number and the size of entity groups is left to the application programmer, as it is influenced by the requirements of the domain. As such, another possibility of future research is the development of tools that aid programmers in making such choices by inferring the entity groups required for application correctness. The work of Gotsman et al.~\citep{gotsman_cher} and Najafzadeh et al.~\citep{cise_tool} pave the way to build such static analysis tools that work for hybrid consistency protocols such as fastPSI.
